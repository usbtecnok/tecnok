<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastro Motorista - Tecnok</title>
<style>
body { font-family: Arial, sans-serif; margin:20px; }
h1 { color:#004aad; }
input, button { padding:10px; margin:5px 0; width:100%; max-width:400px; }
#modalTermos { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; }
#modalTermos div { background:white; padding:20px; border-radius:8px; max-width:600px; }
</style>
</head>
<body>

<h1>Cadastro de Motorista</h1>
<input type="text" id="nome" placeholder="Nome completo">
<input type="email" id="email" placeholder="Email">
<button id="botaoCadastrar">Cadastrar Motorista</button>

<!-- Modal de Termos -->
<div id="modalTermos">
  <div>
    <h2>Termos de Uso - Tecnok</h2>
    <p>Aceito seguir todas as regras do Tecnok como motorista.</p>
    <button id="aceitoTermos">Aceito</button>
    <button id="recusoTermos">Recuso</button>
  </div>
</div>

<script>
document.getElementById('botaoCadastrar').onclick = ()=>{
  document.getElementById('modalTermos').style.display='flex';
}

document.getElementById('aceitoTermos').onclick = async ()=>{
  const nome = document.getElementById('nome').value;
  const email = document.getElementById('email').value;
  if(!nome || !email){ alert('Preencha nome e email!'); return; }
  // Envia para backend
  await fetch('http://localhost:5000/api/motoristas', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({nome,email,status:'pendente'})
  });
  alert('Motorista cadastrado! Aguardando aprovação.');
  document.getElementById('modalTermos').style.display='none';
  document.getElementById('nome').value='';
  document.getElementById('email').value='';
}

document.getElementById('recusoTermos').onclick = ()=>{
  alert('Você precisa aceitar os termos para se cadastrar.');
  document.getElementById('modalTermos').style.display='none';
}
</script>

</body>
</html>
